package main

import (
	"fmt"
	"log"
	memo2 "memo"
	"request"
	"sync"
	"time"
)

var waiting *sync.WaitGroup = &sync.WaitGroup{}

func main(){
	st := time.Now()
	urlsToRequest := []string{"http://www.fx112.com/", "http://www.fx112.com/article", "http://www.fx112.com/rili", "http://www.fx112.com/stock", "http://www.fx112.com/arts", "http://www.fx112.com/bitcoin", "http://www.fx112.com/pme", "http://www.fx112.com/video", "http://www.fx112.com/brokers/rights", "http://www.fx112.com/brokers", "http://www.fx112.com/brokers/forex_activity/", "http://www.fx112.com/brokers/forex_notice/", "http://www.fx112.com/brokers/huipingqu/", "http://www.fx112.com/brokers/authority/", "http://www.fx112.com/salon", "http://www.fx112.com/expert", "http://www.fx112.com/chat", "javascript:void(0);", "http://wpa.qq.com/msgrd?v=3&uin=278572092&site=qq&menu=yes", "http://wpa.qq.com/msgrd?v=3&uin=3213760193&site=qq&menu=yes", "http://www.fx112.com/member/login.php", "http://www.fx112.com/union.php?vid=87&url=aHR0cHM6Ly9hZC5kb3VibGVjbGljay5uZXQvZGRtL3RyYWNrY2xrL041ODc3LjMxMDM5MzlGWDExMi9CMjA5NjE1NzcuMjY1NzUyNzg3O2RjX3Rya19haWQ9NDY0OTgyMjkzO2RjX3Rya19jaWQ9MTMwNTAxOTc4O2RjX2xhdD07ZGNfcmRpZD07dGFnX2Zvcl9jaGlsZF9kaXJlY3RlZF90cmVhdG1lbnQ9O3RmdWE9", "http://www.fx112.com/union.php?vid=131&url=aHR0cHM6Ly9hZC5kb3VibGVjbGljay5uZXQvZGRtL3RyYWNrY2xrL04xMDEyOTg1LjMxMDM5MzlGWDExMi9CMjUwNTIyMTcuMjg4Mjk4NDg0O2RjX3Rya19haWQ9NDgzNzIwNjAwO2RjX3Rya19jaWQ9MTQyNjY5MzY4O2RjX2xhdD07ZGNfcmRpZD07dGFnX2Zvcl9jaGlsZF9kaXJlY3RlZF90cmVhdG1lbnQ9O3RmdWE9", "http://www.fx112.com/union.php?vid=105&url=aHR0cHM6Ly9hZC5kb3VibGVjbGljay5uZXQvZGRtL3RyYWNrY2xrL041ODc3LjMxMDM5MzlGWDExMi9CMjA5NjE1NzcuMjU4MjE0NDc1O2RjX3Rya19haWQ9NDYwMjE2NjE0O2RjX3Rya19jaWQ9MTI3MjQ2NjcxO2RjX2xhdD07ZGNfcmRpZD07dGFnX2Zvcl9jaGlsZF9kaXJlY3RlZF90cmVhdG1lbnQ9O3RmdWE9", "http://www.fx112.com/union.php?vid=118&url=aHR0cHM6Ly9hZC5kb3VibGVjbGljay5uZXQvZGRtL3RyYWNrY2xrL04xMDEyOTg1LjMxMDM5MzlGWDExMi9CMjUwNTIyMTcuMjg4NDUxNjExO2RjX3Rya19haWQ9NDg1NzUwODc3O2RjX3Rya19jaWQ9MTQzOTcwMzUwO2RjX2xhdD07ZGNfcmRpZD07dGFnX2Zvcl9jaGlsZF9kaXJlY3RlZF90cmVhdG1lbnQ9O3RmdWE9", "http://www.fx112.com/union.php?vid=135&url=aHR0cHM6Ly93d3cueG1icm9rZXJmeC5jb20vZ3cucGhwP2dpZD0xNzEwMTk=", "http://www.fx112.com/union.php?vid=106&url=aHR0cHM6Ly9hZC5kb3VibGVjbGljay5uZXQvZGRtL3RyYWNrY2xrL041ODc3LjMxMDM5MzlGWDExMi9CMjA5NjE1NzcuMjU4MjE0NDc1O2RjX3Rya19haWQ9NDYwMjE2NjE0O2RjX3Rya19jaWQ9MTI3MjQ2NjcxO2RjX2xhdD07ZGNfcmRpZD07dGFnX2Zvcl9jaGlsZF9kaXJlY3RlZF90cmVhdG1lbnQ9O3RmdWE9", "http://www.fx112.com/union.php?vid=119&url=aHR0cHM6Ly9hZC5kb3VibGVjbGljay5uZXQvZGRtL3RyYWNrY2xrL04xMDEyOTg1LjMxMDM5MzlGWDExMi9CMjUwNTIyMTcuMjg4NDUxNjExO2RjX3Rya19haWQ9NDg1NzUwODc3O2RjX3Rya19jaWQ9MTQzOTcwMzUwO2RjX2xhdD07ZGNfcmRpZD07dGFnX2Zvcl9jaGlsZF9kaXJlY3RlZF90cmVhdG1lbnQ9O3RmdWE9", "http://www.fx112.com/union.php?vid=136&url=aHR0cHM6Ly93d3cueG1icm9rZXJmeC5jb20vZ3cucGhwP2dpZD0xNzEwMTk=", "http://www.fx112.com/union.php?vid=129&url=aHR0cHM6Ly9naWIuZ3JvdXAvemgtQ04=", "http://www.fx112.com/union.php?vid=93&url=aHR0cHM6Ly93d3cuZm9sbG93bWUuY29tL3NpZ25hbC8/dXRtX3NvdXJjZT13ZWJfZngxMTJfaG9tZUFE", "http://www.fx112.com/union.php?vid=91&url=aHR0cHM6Ly93d3cuaHljbWNuLmNvbS9jbi9oeWxwLzIwMjBub3YxMGJvbnVzP2NhbXBhaWduaWQ9NzAxM3owMDAwMDFpWEFOJnV0bV9tZWRpdW09YmFubmVyX2FkcyZ1dG1fc291cmNlPWh0dHBzOi8vd3d3LmZ4MTEyLmNvbS8mdXRtX2NhbXBhaWduPUZYMTEyX05vdl8xMF9ib251c18yMDExMDI=", "http://wpa.qq.com/msgrd?v=3&uin=278572092&site=qq&menu=yes", "https://www.linkedin.com/in/ronald-zou-aa0a92126/", "http://www.fx112.com/arts/view/63676.html", "http://www.fx112.com/arts/view/63677.html", "http://www.fx112.com/arts/view/63634.html", "http://www.fx112.com/arts/view/63538.html", "http://www.fx112.com/arts/view/63566.html", "http://www.fx112.com/arts/view/63560.html", "http://www.fx112.com/arts/view/63607.html", "http://www.fx112.com/arts/view/63673.html", "http://www.fx112.com/arts/view/63595.html", "http://www.fx112.com/arts/view/63674.html", "http://www.fx112.com/union.php?vid=95&url=aHR0cHM6Ly9hZC5kb3VibGVjbGljay5uZXQvZGRtL3RyYWNrY2xrL04xMDEyOTg1LjMxMDM5MzlGWDExMi9CMjUwNTIyMTcuMjkyMzI2NjM4O2RjX3Rya19haWQ9NDg1NTU4MjA2O2RjX3Rya19jaWQ9MTQzOTY0MDY0O2RjX2xhdD07ZGNfcmRpZD07dGFnX2Zvcl9jaGlsZF9kaXJlY3RlZF90cmVhdG1lbnQ9O3RmdWE9", "http://www.fx112.com/expert/zj_7959.html", "http://www.fx112.com/expert/view/63013.html", "http://www.fx112.com/expert/zj_7956.html", "http://www.fx112.com/expert/view/63012.html", "http://www.fx112.com/expert/zj_7958.html", "http://www.fx112.com/expert/view/63011.html", "http://www.fx112.com/expert/zj_7958.html", "http://www.fx112.com/expert/view/63010.html", "http://www.fx112.com/expert/zj_7958.html", "http://www.fx112.com/expert/view/63009.html", "http://www.fx112.com/expert/zj_7958.html", "http://www.fx112.com/expert/view/63008.html", "http://www.fx112.com/expert/zj_6758.html", "http://www.fx112.com/expert/view/62909.html", "http://www.fx112.com/expert/zj_6758.html", "http://www.fx112.com/expert/view/62908.html", "http://www.fx112.com/expert/zj_6763.html", "http://www.fx112.com/expert/view/62818.html", "http://www.fx112.com/expert/zj_6764.html", "http://www.fx112.com/expert/view/62820.html", "http://www.fx112.com/expert/zj_6758.html", "http://www.fx112.com/expert/view/62819.html", "http://www.fx112.com/expert/zj_6758.html", "http://www.fx112.com/expert/view/62817.html", "http://www.fx112.com/brokers/forex_notice/41622.html", "http://www.fx112.com/brokers/forex_notice/41621.html", "http://www.fx112.com/brokers/forex_notice/41620.html", "http://www.fx112.com/brokers/forex_notice/41619.html", "http://www.fx112.com/brokers/forex_notice/41615.html", "http://www.fx112.com/brokers/forex_notice/41601.html", "http://www.fx112.com/brokers/forex_activity/41719.html", "http://www.fx112.com/brokers/forex_activity/41718.html", "http://www.fx112.com/brokers/forex_activity/41717.html", "http://www.fx112.com/brokers/forex_activity/41716.html", "http://www.fx112.com/brokers/forex_activity/41715.html", "http://www.fx112.com/brokers/forex_activity/41707.html", "http://www.fx112.com/brokers/huipingqu/41724.html", "http://www.fx112.com/brokers/huipingqu/41723.html", "http://www.fx112.com/brokers/huipingqu/41722.html", "http://www.fx112.com/brokers/huipingqu/41721.html", "http://www.fx112.com/brokers/huipingqu/41720.html", "http://www.fx112.com/brokers/huipingqu/41714.html", "http://www.fx112.com/stock/arc-Ashare-111918.html", "http://www.fx112.com/stock/arc-Ashare-111918.html", "http://www.fx112.com/stock/arc-Ashare-111917.html", "http://www.fx112.com/stock/arc-Ashare-111917.html", "http://www.fx112.com/stock/arc-HKstocks-111914.html", "http://www.fx112.com/stock/arc-HKstocks-111914.html", "http://www.fx112.com/stock/arc-Ashare-111916.html", "http://www.fx112.com/stock/arc-Ashare-111916.html", "http://www.fx112.com/stock/arc-HKstocks-111915.html", "http://www.fx112.com/stock/arc-HKstocks-111915.html", "http://www.fx112.com/stock/arc-Ashare-111913.html", "http://www.fx112.com/stock/arc-Ashare-111913.html", "http://www.fx112.com/stock/arc-Ashare-111911.html", "http://www.fx112.com/stock/arc-Ashare-111911.html", "http://www.fx112.com/stock/arc-Ashare-111912.html", "http://www.fx112.com/stock/arc-Ashare-111912.html", "http://www.fx112.com/stock/arc-Ashare-111904.html", "http://www.fx112.com/stock/arc-Ashare-111904.html", "http://www.fx112.com/stock/arc-Ashare-111910.html", "http://www.fx112.com/stock/arc-Ashare-111910.html", "http://www.fx112.com/stock/arc-Ashare-111902.html", "http://www.fx112.com/stock/arc-Ashare-111902.html", "http://www.fx112.com/stock/arc-Ashare-111900.html", "http://www.fx112.com/stock/arc-Ashare-111900.html", "http://www.fx112.com/stock/arc-HKstocks-111894.html", "http://www.fx112.com/stock/arc-HKstocks-111894.html", "http://www.fx112.com/stock/arc-HKstocks-111897.html", "http://www.fx112.com/stock/arc-HKstocks-111897.html", "http://www.fx112.com/stock/arc-Ashare-111905.html", "http://www.fx112.com/stock/arc-Ashare-111905.html", "http://www.fx112.com/stock/arc-HKstocks-111895.html", "http://www.fx112.com/stock/arc-HKstocks-111895.html", "http://www.fx112.com/stock/arc-HKstocks-111893.html", "http://www.fx112.com/stock/arc-HKstocks-111893.html", "http://www.fx112.com/stock/arc-Ashare-111899.html", "http://www.fx112.com/stock/arc-Ashare-111899.html", "http://www.fx112.com/stock/arc-Ashare-111907.html", "http://www.fx112.com/stock/arc-Ashare-111907.html", "http://www.fx112.com/stock/arc-Ashare-111901.html", "http://www.fx112.com/stock/arc-Ashare-111901.html", "http://www.fx112.com/stock/arc-Ashare-111898.html", "http://www.fx112.com/stock/arc-Ashare-111898.html", "http://www.fx112.com/stock/arc-Ashare-111908.html", "http://www.fx112.com/stock/arc-Ashare-111908.html", "http://www.fx112.com/stock/arc-Ashare-111909.html", "http://www.fx112.com/stock/arc-Ashare-111909.html", "http://www.fx112.com/stock/arc-Ashare-111906.html", "http://www.fx112.com/stock/arc-Ashare-111906.html", "http://www.fx112.com/stock/arc-Ashare-111903.html", "http://www.fx112.com/stock/arc-Ashare-111903.html", "http://www.fx112.com/stock/arc-HKstocks-111896.html", "http://www.fx112.com/stock/arc-HKstocks-111896.html", "http://www.fx112.com/stock/arc-HKstocks-111892.html", "http://www.fx112.com/stock/arc-HKstocks-111892.html", "http://www.fx112.com/stock/arc-Ashare-111891.html", "http://www.fx112.com/stock/arc-Ashare-111891.html", "http://www.fx112.com/stock/arc-Ashare-111889.html", "http://www.fx112.com/stock/arc-Ashare-111889.html", "http://www.fx112.com/stock/arc-Ashare-111886.html", "http://www.fx112.com/stock/arc-Ashare-111886.html", "http://www.fx112.com/arts/view/63685.html", "http://www.fx112.com/arts/view/63685.html", "http://www.fx112.com/arts/view/63684.html", "http://www.fx112.com/arts/view/63684.html", "http://www.fx112.com/arts/view/63683.html", "http://www.fx112.com/arts/view/63683.html", "http://www.fx112.com/arts/view/63682.html", "http://www.fx112.com/arts/view/63682.html", "http://www.fx112.com/arts/view/63681.html", "http://www.fx112.com/arts/view/63681.html", "http://www.fx112.com/arts/view/63677.html", "http://www.fx112.com/arts/view/63677.html", "http://www.fx112.com/arts/view/63679.html", "http://www.fx112.com/arts/view/63679.html", "http://www.fx112.com/arts/view/63678.html", "http://www.fx112.com/arts/view/63678.html", "http://www.fx112.com/arts/view/63680.html", "http://www.fx112.com/arts/view/63680.html", "http://www.fx112.com/arts/view/63676.html", "http://www.fx112.com/arts/view/63676.html", "http://www.fx112.com/arts/view/63673.html", "http://www.fx112.com/arts/view/63673.html", "http://www.fx112.com/arts/view/63674.html", "http://www.fx112.com/arts/view/63674.html", "http://www.fx112.com/arts/view/63675.html", "http://www.fx112.com/arts/view/63675.html", "http://www.fx112.com/arts/view/63672.html", "http://www.fx112.com/arts/view/63672.html", "http://www.fx112.com/arts/view/63671.html", "http://www.fx112.com/arts/view/63671.html", "http://www.fx112.com/arts/view/63670.html", "http://www.fx112.com/arts/view/63670.html", "http://www.fx112.com/arts/view/63665.html", "http://www.fx112.com/arts/view/63665.html", "http://www.fx112.com/arts/view/63666.html", "http://www.fx112.com/arts/view/63666.html", "http://www.fx112.com/arts/view/63669.html", "http://www.fx112.com/arts/view/63669.html", "http://www.fx112.com/arts/view/63667.html", "http://www.fx112.com/arts/view/63667.html", "http://www.fx112.com/arts/view/63668.html", "http://www.fx112.com/arts/view/63668.html", "http://www.fx112.com/arts/view/63663.html", "http://www.fx112.com/arts/view/63663.html", "http://www.fx112.com/arts/view/63662.html", "http://www.fx112.com/arts/view/63662.html", "http://www.fx112.com/arts/view/63661.html", "http://www.fx112.com/arts/view/63661.html", "http://www.fx112.com/arts/view/63660.html", "http://www.fx112.com/arts/view/63660.html", "http://www.fx112.com/arts/view/63664.html", "http://www.fx112.com/arts/view/63664.html", "http://www.fx112.com/arts/view/63659.html", "http://www.fx112.com/arts/view/63659.html", "http://www.fx112.com/arts/view/63658.html", "http://www.fx112.com/arts/view/63658.html", "http://www.fx112.com/arts/view/63657.html", "http://www.fx112.com/arts/view/63657.html", "http://www.fx112.com/arts/view/63656.html", "http://www.fx112.com/arts/view/63656.html", "javascript:;", "http://www.fx112.com/stock/p-stockNews.html", "http://www.fx112.com/stock/short-1956021.html", "http://www.fx112.com/stock/short-1956019.html", "http://www.fx112.com/stock/short-1956018.html", "http://www.fx112.com/stock/short-1956016.html", "http://www.fx112.com/stock/short-1956015.html", "http://www.fx112.com/stock/short-1956014.html", "http://www.fx112.com/stock/short-1956013.html", "http://www.fx112.com/stock/short-1956012.html", "http://www.fx112.com/stock/short-1956011.html", "http://www.fx112.com/stock/short-1956010.html", "http://www.fx112.com/stock/short-1956009.html", "http://www.fx112.com/stock/short-1956008.html", "http://www.fx112.com/stock/short-1956007.html", "http://www.fx112.com/stock/short-1956006.html", "http://www.fx112.com/stock/short-1956005.html", "http://www.fx112.com/stock/short-1956004.html", "http://www.fx112.com/stock/short-1956003.html", "http://www.fx112.com/stock/short-1956002.html", "http://www.fx112.com/stock/short-1956001.html", "http://www.fx112.com/stock/short-1956000.html", "http://www.fx112.com/stock/short-1955999.html", "http://www.fx112.com/stock/short-1955998.html", "http://www.fx112.com/stock/short-1955997.html", "http://www.fx112.com/stock/short-1955996.html", "http://www.fx112.com/stock/short-1955994.html", "http://www.fx112.com/stock/short-1955993.html", "http://www.fx112.com/stock/short-1955992.html", "http://www.fx112.com/stock/short-1955991.html", "http://www.fx112.com/stock/short-1955990.html", "http://www.fx112.com/stock/short-1955989.html", "http://www.tsforex.com/brokers/", "https://brokers.fx112.com/", "https://brokers.hugangcaijing.com", "https://www.newbestt.com/hq/rate/", "https://www.fx112.com/expert/stock-1.html", "https://www.fx112.com/brokers/index.html", "javascript:;", "http://www.fx112.com/arts", "http://www.fx112.com/pme", "http://www.fx112.com/stock", "http://www.fx112.com/stock", "http://www.fx112.com/stock", "http://www.fx112.com/brokers", "http://www.fx112.com/rili", "http://www.fx112.com/bitcoin", "http://www.fx112.com/video", "http://www.fx112.com/brokers/rights/", "http://www.fx112.com/expert", "http://www.fx112.com/expert/stock-1.html", "http://www.fx112.com/stock/p-stockNews.html", "http://www.fx112.com/view.php?aboutus", "javascript:;", "javascript:;", "http://wpa.qq.com/msgrd?v=3&uin=278572092&menu=yes", "javascript:;", "http://www.fx112.com/", "http://www.fx112.com/rili", "http://www.fx112.com/stock", "http://www.fx112.com/arts", "http://www.fx112.com/bitcoin", "http://www.fx112.com/pme", "http://www.fx112.com/brokers/rights", "https://brokers.fx112.com", "http://www.fx112.com/view.php?contact", "http://www.fx112.com/member/login.php?act=register", "http://www.fx112.com/union.php?vid=105&url=aHR0cHM6Ly9hZC5kb3VibGVjbGljay5uZXQvZGRtL3RyYWNrY2xrL041ODc3LjMxMDM5MzlGWDExMi9CMjA5NjE1NzcuMjU4MjE0NDc1O2RjX3Rya19haWQ9NDYwMjE2NjE0O2RjX3Rya19jaWQ9MTI3MjQ2NjcxO2RjX2xhdD07ZGNfcmRpZD07dGFnX2Zvcl9jaGlsZF9kaXJlY3RlZF90cmVhdG1lbnQ9O3RmdWE9", "http://www.fx112.com/union.php?vid=118&url=aHR0cHM6Ly9hZC5kb3VibGVjbGljay5uZXQvZGRtL3RyYWNrY2xrL04xMDEyOTg1LjMxMDM5MzlGWDExMi9CMjUwNTIyMTcuMjg4NDUxNjExO2RjX3Rya19haWQ9NDg1NzUwODc3O2RjX3Rya19jaWQ9MTQzOTcwMzUwO2RjX2xhdD07ZGNfcmRpZD07dGFnX2Zvcl9jaGlsZF9kaXJlY3RlZF90cmVhdG1lbnQ9O3RmdWE9", "http://www.fx112.com/union.php?vid=135&url=aHR0cHM6Ly93d3cueG1icm9rZXJmeC5jb20vZ3cucGhwP2dpZD0xNzEwMTk=", "http://www.fx112.com/union.php?vid=106&url=aHR0cHM6Ly9hZC5kb3VibGVjbGljay5uZXQvZGRtL3RyYWNrY2xrL041ODc3LjMxMDM5MzlGWDExMi9CMjA5NjE1NzcuMjU4MjE0NDc1O2RjX3Rya19haWQ9NDYwMjE2NjE0O2RjX3Rya19jaWQ9MTI3MjQ2NjcxO2RjX2xhdD07ZGNfcmRpZD07dGFnX2Zvcl9jaGlsZF9kaXJlY3RlZF90cmVhdG1lbnQ9O3RmdWE9", "http://www.fx112.com/union.php?vid=119&url=aHR0cHM6Ly9hZC5kb3VibGVjbGljay5uZXQvZGRtL3RyYWNrY2xrL04xMDEyOTg1LjMxMDM5MzlGWDExMi9CMjUwNTIyMTcuMjg4NDUxNjExO2RjX3Rya19haWQ9NDg1NzUwODc3O2RjX3Rya19jaWQ9MTQzOTcwMzUwO2RjX2xhdD07ZGNfcmRpZD07dGFnX2Zvcl9jaGlsZF9kaXJlY3RlZF90cmVhdG1lbnQ9O3RmdWE9", "http://www.fx112.com/union.php?vid=136&url=aHR0cHM6Ly93d3cueG1icm9rZXJmeC5jb20vZ3cucGhwP2dpZD0xNzEwMTk=", "http://www.fx112.com/#top", "http://www.fx112.com/view/contactus.html"}
	memo := memo2.New(request.GetUrl)
	dir := "./html"
	for _, url := range(urlsToRequest){
		waiting.Add(1)
		go func(url string) {
			defer waiting.Done()
			cont, err := memo.Get(url)
			if err != nil {
				log.Printf("爬取url %s 失败：", url, err)
				return
			}

			// 单独开一个goroutine完成文件的写入
			waiting.Add(1)
			go func(){
				request.Save(url, dir, cont.([]byte))	// 通过断言将 interface{}转为[]byte类型
				waiting.Done()
			}()
		}(url)
	}

	waiting.Wait()

	fmt.Printf("耗时：%s", time.Since(st))
}